(this["webpackJsonptiktok-clone"]=this["webpackJsonptiktok-clone"]||[]).push([[0],{33:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),o=n(18),s=n.n(o),a=(n(33),n(21)),i="FETCH_VIDEOS_START",l="FETCH_VIDEOS_SUCCESS",d="FETCH_VIDEOS_FAILURE",u=n(20),j=Object(u.a)([function(e){return e.videos}],(function(e){return e.videos})),b=n(12),v=(n(37),n(22)),f=(n(38),n(39),n(55)),h=n(25),p=n(4);function O(e){var t=e.channel,n=e.description,c=e.song;return Object(p.jsxs)("div",{className:"videoFooter",children:[Object(p.jsxs)("div",{className:"videoFooter_text",children:[Object(p.jsx)("h3",{children:t}),Object(p.jsx)("p",{children:n}),Object(p.jsxs)("div",{className:"videoFooter_ticker",children:[Object(p.jsx)(f.a,{className:"videoFooter_icon"}),Object(p.jsx)(h.a,{mode:"smooth",children:function(e){e.index;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("p",{children:c})})}})]})]}),Object(p.jsx)("img",{className:"videoFooter_record",src:"https://static.thenounproject.com/png/934821-200.png",alt:""})]})}n(41);var x=n(56),g=n(57),m=n(58),w=n(59);function k(e){var t=e.likes,n=e.shares,r=e.messages,o=Object(c.useState)(!1),s=Object(v.a)(o,2),a=s[0],i=s[1],l=function(){return i(!a)};return Object(p.jsxs)("div",{className:"videoSidebar",children:[Object(p.jsxs)("div",{className:"videoSidebar_button",children:[a?Object(p.jsx)(x.a,{fontSize:"large",onClick:l}):Object(p.jsx)(g.a,{fontSize:"large",onClick:l}),Object(p.jsx)("p",{children:a?t+1:t})]}),Object(p.jsxs)("div",{className:"videoSidebar_button",children:[Object(p.jsx)(m.a,{fontSize:"large"}),Object(p.jsx)("p",{children:n?n+1:n})]}),Object(p.jsxs)("div",{className:"videoSidebar_button",children:[Object(p.jsx)(w.a,{fontSize:"large"}),Object(p.jsx)("p",{children:r?r+1:r})]})]})}function S(e){var t=e.url,n=e.channel,r=e.description,o=e.song,s=e.likes,a=e.shares,i=e.messages,l=Object(c.useState)(!1),d=Object(v.a)(l,2),u=d[0],j=d[1],b=Object(c.useRef)(null);return Object(p.jsxs)("div",{className:"video",children:[Object(p.jsx)("video",{className:"video_player",loop:!0,onClick:function(){u?(b.current.pause(),j(!1)):(b.current.play(),j(!0))},ref:b,src:t}),Object(p.jsx)(O,{channel:n,description:r,song:o}),Object(p.jsx)(k,{likes:s,shares:a,messages:i})]})}var _=function(e){var t=e.videos,n=e.fetchVideosStart;return Object(c.useEffect)((function(){n()}),[n]),Object(p.jsx)("div",{className:"app",children:Object(p.jsx)("div",{className:"app_videos",children:t.length?t.map((function(e,t){return Object(p.jsx)(S,Object(b.a)({},e),t)})):null})})},y=Object(u.b)({videos:j}),E=Object(a.b)(y,{fetchVideosStart:function(){return{type:i}}})(_),N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function C(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var F=n(10),T=n(26),A={videos:[],errMsg:""},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return e;case l:return Object(b.a)(Object(b.a)({},e),{},{videos:t.payload});case d:return Object(b.a)(Object(b.a)({},e),{},{errMessage:t.payload});default:return e}},W=Object(F.b)({videos:R}),I=n(9),U=n.n(I),V=n(13),D=n(15),z=U.a.mark(H),L=U.a.mark(P),M=U.a.mark(B);function H(){var e,t;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("https://tiktokclone-mern-backend7868.herokuapp.com/v2/posts");case 3:return e=n.sent,n.next=6,e.json();case 6:return t=n.sent,n.next=9,Object(D.b)({type:l,payload:t});case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(D.b)((c=n.t0.message,{type:d,payload:c}));case 15:case"end":return n.stop()}var c}),z,null,[[0,11]])}function P(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.c)(i,H);case 2:case"end":return e.stop()}}),L)}function B(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([P()]);case 2:case"end":return e.stop()}}),M)}var J=U.a.mark(X);function X(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.a)([Object(V.b)(B)]);case 2:case"end":return e.stop()}}),J)}var $=Object(T.a)(),q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.c,G=Object(F.d)(W,q(Object(F.a)($)));$.run(X),s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(a.a,{store:G,children:Object(p.jsx)(E,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");N?(!function(e,t){fetch(e).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):C(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):C(t,e)}))}}()}},[[43,1,2]]]);
//# sourceMappingURL=main.52380fa7.chunk.js.map